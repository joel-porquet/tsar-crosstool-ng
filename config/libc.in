# C library options

menu "C-library"

choice
    bool
    prompt "C-library to use:"
    default LIBC_GLIBC

config LIBC_GLIBC
    bool
    prompt "glibc"
    select LIBC_SUPPORT_NPTL
    select LIBC_SUPPORT_LINUXTHREADS

config LIBC_EGLIBC
    bool
    prompt "eglibc (EXPERIMENTAL)"
    select LIBC_SUPPORT_NPTL
    select LIBC_SUPPORT_LINUXTHREADS
    depends on EXPERIMENTAL

config LIBC_UCLIBC
    bool
    prompt "uClibc"
    select LIBC_SUPPORT_LINUXTHREADS

endchoice

config LIBC_VERSION
    string

config LIBC
    string
    default "glibc" if LIBC_GLIBC
    default "eglibc" if LIBC_EGLIBC
    default "uClibc" if LIBC_UCLIBC

config LIBC_SUPPORT_NPTL
    bool
    default n

config LIBC_SUPPORT_LINUXTHREADS
    bool
    default n

if LIBC_GLIBC
source config/libc/glibc.in
endif

if LIBC_EGLIBC
source config/libc/eglibc.in
endif

if LIBC_UCLIBC
source config/libc/uClibc.in
endif

config LIBC_VERSION
    help
      Enter the date of the snapshot you want to use in the form: YYYYMMDD
      where YYYY is the 4-digit year, MM the 2-digit month and DD the 2-digit
      day in the month.
      
      Please note:
      - glibc has snapshots done every monday, and only the last ten are kept.
      - uClibc has daily snapshots, and only the last 30-or-so are kept.
      
      So if you want to be able to re-build your toolchain later, you will
      have to save your C library tarball by yourself.

endmenu
